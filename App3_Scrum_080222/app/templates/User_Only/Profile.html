{% extends "base.html" %}


{% block app_content %}
<link href="{{url_for('static', filename='css/profileaccord.css')}}" rel="stylesheet">

<div class="container">
  <div class="main-body">

    <!--User Profile Card-->
    <div class="row gutters-sm">
      <div class="col-md-4 mb-3">
        <div class="card">
          <div class="card-body">
            <div class="d-flex flex-column align-items-center text-center">

              <!-- Image is linked from the internet in #18-->
              <img
                src="https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fvectorified.com%2Fimages%2Ffont-awesome-user-icon-31.png&f=1&nofb=1&ipt=0989ed2b17b5a493f530e9d939c15950c98ec96b9feccec729109b52a37b92cb&ipo=images"
                alt="Jane" class="rounded-circle" width="150">
              <div class="mt-3">
                <h4>{{ current_user.username }}</h4>
                <p class="text-secondary mb-1">{{ current_user.auth }}</p>
                <br>

                <!--The button link below uses javascript to go back to previois page in browser history to the last page-->
                <a href="javascript:history.back()" class="btn btn-primary" role="button">Go Back</a>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!--User Detail Section, positioned to right of user profile card-->
      <div class="col-md-8">
        <div class="card mb-3">
          <div class="card-body">
            <div class="row">
              <div class="col-sm-3">
                <h6 class="mb-0">Email</h6>
              </div>
              <div class="col-sm-9 text-secondary">
                <ul class="email">

                  <!--The link below allows a email message to be created in default mail app, filling in the recepient box-->
                  <li><a href="{{ current_user.email }}">{{ current_user.email }}</a></li>
                </ul>
              </div>
            </div>
            <hr>
          </div>
        </div>

        <!--Member Application Section-->
        <!--if current user is 'member' the application forms will be visible to them-->
        {% if current_user.auth == 'member' %}
        <div class="card mb-3">
          <ul class="email">
            <h2>Avaliable applications for Certified positions</h2>
          </ul>
          <div class="card-body">
            <!--Interactive Form within Interactable Accordian-->
            <button class="accordion">Application for Certified Scrum Trainer
              (CST)</button><!--Toggles the accordian to open or close-->
            <div class="panel">
              <div class="center">
                <form method="POST">
                  <!--Uses POST method to send data to database, but due to time contraints it does not send the data anywhere and refreshes the form-->
                  <div class="inputbox">
                    <input type="text"
                      required="required"><!--Allows user input, required field prevents blank fields-->
                    <span>Firstname</span>
                  </div>
                  <div class="inputbox">
                    <input type="text"
                      required="required"><!--Allows user input, required field prevents blank fields-->
                    <span>Surname</span>
                  </div>
                  <div class="inputbox">
                    <input type="text"
                      required="required"><!--Allows user input, required field prevents blank fields-->
                    <span>Email</span>
                  </div>
                  <div class="inputbox">
                    <button type="submit"
                      class="btn btn-default btn-lg">Submit</button><!--Once pressed, form is supposed to
                         send the details to a database, but due to time contraints, all that this button does is refresh the page and makes the form blank-->
                  </div>
                </form>
              </div>
            </div>

            <!--Interactive Form within Interactable Accordian-->
            <button class="accordion">Application for Certified Scrum Practitioner
              (CSP)</button><!--Toggles the accordian to open or close-->
            <div class="panel">
              <div class="center">
                <form method="POST">
                  <!--Uses POST method to send data to database, but due to time contraints it does not send the data anywhere and refreshes the form-->
                  <div class="inputbox">
                    <input type="text"
                      required="required"><!--Allows user input, required field prevents blank fields-->
                    <span>Firstname</span>
                  </div>
                  <div class="inputbox">
                    <input type="text"
                      required="required"><!--Allows user input, required field prevents blank fields-->
                    <span>Surname</span>
                  </div>
                  <div class="inputbox">
                    <input type="text"
                      required="required"><!--Allows user input, required field prevents blank fields-->
                    <span>Email</span>
                  </div>
                  <div class="inputbox">
                    <button type="submit"
                      class="btn btn-default btn-lg">Submit</button><!--Once pressed, form is supposed to
                          send the details to a database, but due to time contraints, all that this button does is refresh the page and makes the form blank-->

                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
      {% else %}

      {% endif %}

    </div>
  </div>
</div>
</div>
<!--Space div for moving footer down-->
<div style="padding-bottom: 25%;"></div>

<!--Script for opening and closing accordian-->
<script>
  var acc = document.getElementsByClassName("accordion");//links to button class for triggering accordian
  var i;

  for (i = 0; i < acc.length; i++) {
    acc[i].addEventListener("click", function () {//when the button for accordian is pressed, the following is triggered
      //Toggle between adding and removing the "active" class,to highlight the button that controls the pane
      this.classList.toggle("active");

      //Toggles the size of the panel when it opens and closes
      var panel = this.nextElementSibling;
      if (panel.style.maxHeight) {
        panel.style.maxHeight = null;
      } else {
        panel.style.maxHeight = panel.scrollHeight + "px";
      }
    });
  }
</script>
{% endblock %}