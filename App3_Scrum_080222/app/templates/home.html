{% extends "base.html" %}


{% block app_content %}

<div class="col-sm-2 sidnav">
    <h2>Special Announcements</h2>
    <form action="/add" method="POST">
        <label>Title</label>
        <input type="text" name="title" placeholder="Enter title...">
        <label>Content</label>
        <input type="text" name= "content" placeholder="Enter text...">
        <button type="submit">Add</button>
    </form>
    <br>
    <div class="panel panel-default">
        <div class="panel-body">   
             <div id="content">

        </div></div>
      </div>

</div>
<div class="container-fluid text-center">
    <div class="row">
        <div class="col-sm-4">
          <div class="well">
            <h6 class="mb-0">Email:</h6>
            <span class="text-secondary">
              <ul class="email">
                <!--The link below allows a email message to be created in default mail app, filling in the recepient box-->
                <li><a href="mailto:supportdesk@swiftcourses.com">supportdesk@swiftcourses.com</a></li>
              </ul>
            </span>
            <br> 
            <h6 class="mb-0">Phone:</h6>
            <span class="text-secondary">(+44) 08934 8934673</span> 
          </div>
        </div>
        <div class="col-sm-4">
          <div class="well">
            <h6 class="mb-0">Address:</h6>
            <span class="text-secondary">
              Stockwood Gardens<br>
              Newlands Rd<br>
              Luton LU1 4AA</span>
          </div>
        </div>
        <div class="col-sm-4">
          <div class="well">
            <h3>Office Location</h3>  
            <!--iframe contains the interactable google map from google maps website-->      
            <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d9573.243132160434!2d-0.4270260601796047!3d51.87117999073809!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x487649043c494f1d%3A0xb391a877a3fcbc56!2sStockwood%20Gardens!5e0!3m2!1sen!2suk!4v1670265320387!5m2!1sen!2suk" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
        
          </div>
        </div>
      </div>
</div>

{% block scripts %}
    {{ super() }}
<script>
        $(document).ready(function contrequest(){//Once the page has loaded, the folowing function is executed
            $.getJSON('/getannounce', 'trash', get_data)//Obtains the data from the annoumcement route
        });
        function get_data(data){//When triggered by the above function, takes the retrieved data and inserts it on the page
            
            $("#content").html(data);//Sends and converts data to be displayed in the div associated by id in the HTML file
           // $("#content").append(JSON.stringify(data));
        }

        function add_data(data){
            $("#btn2").click(function(){
            $.getJSON(update_data)
         });
        }
        
        function update_data(data){
            $.getJSON(get_data)
            $("ol").append("<li>Appended item</li>");
        }
</script>
{% endblock %}
{% endblock %}